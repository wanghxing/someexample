!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("eduplayer",[],t):"object"==typeof exports?exports.eduplayer=t():e.eduplayer=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=42)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(28),o=n(33);e.exports=n(2)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(21);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(8),o=n(5);e.exports=function(e){return r(o(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";function r(e){window.console&&window.console.log(e);var t=document.getElementById("message");t&&(t.innerHTML=t.innerHTML+"<br/>"+e)}function o(){var e=y+"/videojs/video-js-4.x.css";return document.documentMode&&document.documentMode<9&&(e=y+"/videojs/video-js-ie8.css"),e}function i(){var e=y+"/videojs/video-4.x.js";return document.documentMode&&document.documentMode<9&&(e=y+"/videojs/video-ie8.js"),e}function c(){return y+"/hlsjs/hls.light.min.js"}function u(e){videojs.options.techOrder=(0,d.useFlash)()?["flash","html5"]:["html5","flash"];var t=y+"/videojs/vplayer.swf?v="+Math.random();r(t+" loaded"),videojs.options.language="zh-cn",videojs.options.flash={swf:t,flashVars:{hls_info:!1,hls_debug:!1}},videojs.options.html5={hlsjsConfig:{debug:!!e}},videojs.addLanguage("zh-cn",{Play:"播放",Pause:"暂停","Current Time":"当前时间","Duration Time":"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmuted:"取消静音","Playback Rate":"播放码率",Subtitles:"字幕","subtitles off":"字幕关闭",Captions:"内嵌字幕","captions off":"内嵌字幕关闭",Chapters:"节目段落","You aborted the video playback":"视频播放被终止","A network error caused the video download to fail part-way.":"网络错误导致视频下载中途失败。","The video could not be loaded, either because the server or network failed or because the format is not supported.":"视频因格式不支持或者服务器或网络的问题无法加载。","The video playback was aborted due to a corruption problem or because the video used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this video.":"无法找到此视频兼容的源。","The video is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。"})}function a(e,t,n){var o=h+"/private/api/url/get/jsonp.js?url=http://"+t+".s.prcedu.com/private/eduflash/"+n+"&callback=eduplayer.setUrl."+e;r("jsonp url: "+o),l.CFLoad.js(o)}function s(e,t){f(e);var n={nativeControlsForTouch:!1,controls:!0};Object.assign(n,t);var r='class="video-js vjs-default-skin vjs-big-play-centered"';document.getElementById(e).innerHTML='<video id="'+e+'_video" '+r+' preload="auto"></video>',m[e]=videojs(e+"_video",n),b[e]=function(t){m[e].src(t)}}function f(e){var t=document.getElementById(e+"_video");t&&videojs(t).dispose()}n(17);var l=n(15),p=n(14),d=n(16),v=n(13),h="http://api.s.prcedu.com",y=(0,p.getCurrentScript)().replace(/(\/[^\/]+)$/,""),m={},b={},g=!0;e.exports={create:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g?l.CFLoad.css(o(),function(f,p){p?r(o()+" load fail"):(r(o()+" loaded"),l.CFLoad.js(i(),function(o,f){f?r(i()+" load fail"):(r(i()+" loaded"),(0,d.useFlash)()?(u(a),s(e,t),g=!1,n&&n(this)):l.CFLoad.js(c(),function(o,i){i?r(c()+" load fail"):(r(c()+" loaded"),u(a),s(e,t),(0,v.HlsWithVideoJs)(videojs,Hls,r,a),g=!1,n&&n(this))}))}))}):(s(e,t),n&&n(this))},destroy:f,getPlayer:function(e){return m[e]},setPrefixScript:function(e){y=e,r("new prefixScript: "+y)},setPrefix:function(e){h=e,"http://s.prcedu.com"===h&&(h="http://api.s.prcedu.com"),r("new prefixRoute: "+h)},setUrl:b,log:r,useFlash:d.useFlash,setVideoUrl:function(e,t){r("setVideoUrl url: "+t);var n=t.match(/https?:\/\/([^.]+)\.s\.(prcedu|61dv)\.com\/private\/eduflash\/(.+)$/);n?a(e,n[1],n[3]):b[e](t)}}},function(e,t,n){"use strict";function r(e,t,n){function r(r,o){function i(){var e=null,t=null;return function(){var r=Date.now();!e||r-e>2e3?(e=r,a.recoverMediaError()):!t||r-t>2e3?(t=r,a.swapAudioCodec(),a.recoverMediaError()):n("Error loading media: File could not be played")}}var c=o.el(),u=null,a=new t(e.options.html5.hlsjsConfig),s=i(),f=i();c.addEventListener("error",function(e){var t=e.currentTarget.error;t.code===t.MEDIA_ERR_DECODE?f():n("Error loading media: File could not be played")}),this.dispose=function(){a.destroy()},this.duration=function(){return u||c.duration||0},a.on(t.Events.LEVEL_LOADED,function(e,t){u=t.details.live?1/0:t.details.totalduration}),a.on(t.Events.ERROR,function(e,r){if(r.fatal)switch(r.type){case t.ErrorTypes.NETWORK_ERROR:a.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:s();break;default:n("Error loading media: File could not be played")}}),Object.keys(t.Events).forEach(function(e){var n=t.Events[e];a.on(n,function(e,t){o.trigger(n,t)})}),a.attachMedia(c),a.loadSource(r.src)}if(!e||!t)return void n("Missing videojs/Hls libraries");var o={canHandleSource:function(e){var t=/^application\/x-mpegURL$/i,n=/\.m3u8/i;return e.skipContribHlsJs?"":t.test(e.type)?"probably":n.test(e.src)?"maybe":""},handleSource:function(e,t){return new r(e,t)},canPlayType:function(e){var t=/^application\/x-mpegURL$/i;return t.test(e)?"probably":""}};t.isSupported()&&e.Html5.registerSourceHandler(o,0)}t.__esModule=!0,t.HlsWithVideoJs=r},function(e,t,n){"use strict";function r(){if(document.currentScript)return document.currentScript.src;var e;try{a.b.c()}catch(t){e=t.stack,!e&&window.opera&&(e=(String(t).match(/of linked script \S+/g)||[]).join(" "))}if(e)return e=e.split(/[@ ]/g).pop(),e="("==e[0]?e.slice(1,-1):e,e.replace(/(:\d+)?:\d+$/i,"");for(var t,n=document.getElementsByTagName("script"),r=0;t=n[r++];)if("interactive"===t.readyState)return t.className=t.src}t.__esModule=!0,t.getCurrentScript=r},function(e,t,n){"use strict";function r(e){return function(t){return new Promise(function(n,r){var o=document.createElement(e),i="body",c="src";switch(o.onload=function(){n(t)},o.onerror=function(){r(t)},e){case"script":o.async=!0;break;case"link":o.type="text/css",o.rel="stylesheet",c="href",i="head"}o[c]=t,document[i].appendChild(o)})}}t.__esModule=!0;var o=(t.load={css:r("link"),js:r("script"),img:r("img")},t.CFLoad={fScript:null,isFileReady:function(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e},js:function(e,t,n){var r,i=document.createElement("script"),c=!1;i.src=e,i.type="text/javascript";for(r in n)i.setAttribute(r,n[r]);i.onreadystatechange=i.onload=function(){!c&&o.isFileReady(i.readyState)&&(c=!0,t&&t(i),i.onload=i.onreadystatechange=null)},window.setTimeout(function(){c||(c=!0,t&&t(i,1))},5e3),null===this.fScript&&this.init(),this.fScript.parentNode.insertBefore(i,this.fScript)},css:function(e,t,n){var r,o=document.createElement("link");o.href=e,o.rel="stylesheet",o.type="text/css";for(r in n)o.setAttribute(r,n[r]);null===this.fScript&&this.init(),this.fScript.parentNode.insertBefore(o,this.fScript),t&&window.setTimeout(t,0)},init:function(){this.fScript=document.getElementsByTagName("script")[0]}})},function(e,t,n){"use strict";function r(e){return parseInt(e,10)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10.1";e+="";var t=h.pv,n=e.split(".");return n[0]=r(n[0]),n[1]=r(n[1])||0,n[2]=r(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function i(){var e=!1;if("undefined"!=typeof navigator.plugins&&"object"===c(navigator.plugins["Shockwave Flash"]))"internal-not-yet-present"!==navigator.plugins["Shockwave Flash"].filename&&(e=!0);else if("undefined"!=typeof window.ActiveXObject)try{var t=new ActiveXObject(f);t&&(e=!0)}catch(e){}return e}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasFlashPlayerVersion=o,t.useFlash=i;var u="undefined",a="object",s="Shockwave Flash",f="ShockwaveFlash.ShockwaveFlash",l="application/x-shockwave-flash",p=window,d=document,v=navigator,h=function(){var e=c(d.getElementById)!==u&&c(d.getElementsByTagName)!==u&&c(d.createElement)!==u,t=v.userAgent.toLowerCase(),n=v.platform.toLowerCase(),o=n?/win/.test(n):/win/.test(t),i=n?/mac/.test(n):/mac/.test(t),h=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),y="Microsoft Internet Explorer"===v.appName,m=[0,0,0],b=null;if(c(v.plugins)!==u&&c(v.plugins[s])===a)b=v.plugins[s].description,b&&c(v.mimeTypes)!==u&&v.mimeTypes[l]&&v.mimeTypes[l].enabledPlugin&&(y=!1,b=b.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=r(b.replace(/^(.*)\..*$/,"$1")),m[1]=r(b.replace(/^.*\.(.*)\s.*$/,"$1")),m[2]=/[a-zA-Z]/.test(b)?r(b.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(c(p.ActiveXObject)!==u)try{var g=new ActiveXObject(f);g&&(b=g.GetVariable("$version"),b&&(y=!0,b=b.split(" ")[1].split(","),m=[r(b[0]),r(b[1]),r(b[2])]))}catch(e){}return{w3:e,pv:m,wk:h,ie:y,win:o,mac:i}}()},function(e,t,n){n(41),e.exports=n(1).Object.assign},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(10),o=n(38),i=n(37);e.exports=function(e){return function(t,n,c){var u,a=r(t),s=o(a.length),f=i(c,s);if(e&&n!=n){for(;s>f;)if(u=a[f++],u!=u)return!0}else for(;s>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(0),o=n(1),i=n(7),c=n(34),u=n(22),a="prototype",s=function(e,t,n){var f,l,p,d,v=e&s.F,h=e&s.G,y=e&s.S,m=e&s.P,b=e&s.B,g=h?r:y?r[t]||(r[t]={}):(r[t]||{})[a],j=h?o:o[t]||(o[t]={}),w=j[a]||(j[a]={});h&&(n=t);for(f in n)l=!v&&g&&void 0!==g[f],p=(l?g:n)[f],d=b&&l?u(p,r):m&&"function"==typeof p?u(Function.call,p):p,g&&c(g,f,p,e&s.U),j[f]!=p&&i(j,f,d),m&&w[f]!=p&&(w[f]=p)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){e.exports=!n(2)&&!n(3)(function(){return 7!=Object.defineProperty(n(23)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(31),o=n(29),i=n(32),c=n(39),u=n(8),a=Object.assign;e.exports=!a||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=a({},e)[n]||Object.keys(a({},t)).join("")!=r})?function(e,t){for(var n=c(e),a=arguments.length,s=1,f=o.f,l=i.f;a>s;)for(var p,d=u(arguments[s++]),v=f?r(d).concat(f(d)):r(d),h=v.length,y=0;h>y;)l.call(d,p=v[y++])&&(n[p]=d[p]);return n}:a},function(e,t,n){var r=n(19),o=n(26),i=n(40),c=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(6),o=n(10),i=n(20)(!1),c=n(35)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,s=[];for(n in u)n!=c&&r(u,n)&&s.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(30),o=n(24);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(7),i=n(6),c=n(11)("src"),u="toString",a=Function[u],s=(""+a).split(u);n(1).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,u){var a="function"==typeof n;a&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(a&&(i(n,c)||o(n,c,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[c]||a.call(this)})},function(e,t,n){var r=n(36)("keys"),o=n(11);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(0),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(9),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(9),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(5);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(25);r(r.S+r.F,"Object",{assign:n(27)})},function(e,t,n){e.exports=n(12)}])});
